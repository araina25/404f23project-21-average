{"version":3,"file":"authorStore-171782f1.js","sources":["../../../../stores/authorStore.ts"],"sourcesContent":["import { defineStore } from \"pinia\";\nimport axios from \"axios\";\n\nexport const useAuthorStore = defineStore({\n  id: \"author\",\n  state: () => ({\n    authorId: \"\",\n    author: null,\n    authToken: \"\",\n  }),\n  getters: {\n    getAuthorId() {\n      return localStorage.getItem(\"authorId\");\n    },\n    getAuthToken() {\n      return localStorage.getItem(\"token\");\n    },\n  },\n  actions: {\n    async setAuthorId(id: string) {\n      this.authorId = id;\n      localStorage.setItem(\"authorId\", id);\n    },\n    async setAuthToken(token: string) {\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n      this.authToken = token;\n      localStorage.setItem(\"token\", token);\n    },\n    async fetchAuthor() {\n      // this.authorId = localStorage.getItem(\"authorId\");\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${localStorage.getItem(\"token\")}`;\n      try {\n        const response = await axios.get(`http://127.0.0.1:8000/authors`);\n        console.log(response.data);\n        this.author = response.data.results[0];\n        this.authorId = response.data.results[0].id;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n  },\n});\n"],"names":[],"mappings":";;AAGO,MAAM,iBAAiB,YAAY;AAAA,EACxC,IAAI;AAAA,EACJ,OAAO,OAAO;AAAA,IACZ,UAAU;AAAA,IACV,QAAQ;AAAA,IACR,WAAW;AAAA,EAAA;AAAA,EAEb,SAAS;AAAA,IACP,cAAc;AACL,aAAA,aAAa,QAAQ,UAAU;AAAA,IACxC;AAAA,IACA,eAAe;AACN,aAAA,aAAa,QAAQ,OAAO;AAAA,IACrC;AAAA,EACF;AAAA,EACA,SAAS;AAAA,IACP,MAAM,YAAY,IAAY;AAC5B,WAAK,WAAW;AACH,mBAAA,QAAQ,YAAY,EAAE;AAAA,IACrC;AAAA,IACA,MAAM,aAAa,OAAe;AAChC,YAAM,SAAS,QAAQ,OAAO,eAAe,IAAI,UAAU,KAAK;AAChE,WAAK,YAAY;AACJ,mBAAA,QAAQ,SAAS,KAAK;AAAA,IACrC;AAAA,IACA,MAAM,cAAc;AAEZ,YAAA,SAAS,QAAQ,OAAO,eAAe,IAAI,UAAU,aAAa,QAAQ,OAAO,CAAC;AACpF,UAAA;AACF,cAAM,WAAW,MAAM,MAAM,IAAI,+BAA+B;AACxD,gBAAA,IAAI,SAAS,IAAI;AACzB,aAAK,SAAS,SAAS,KAAK,QAAQ,CAAC;AACrC,aAAK,WAAW,SAAS,KAAK,QAAQ,CAAC,EAAE;AAAA,eAClC,OAAO;AACd,gBAAQ,MAAM,KAAK;AAAA,MACrB;AAAA,IACF;AAAA,EACF;AACF,CAAC;"}