import{u as i,a as p}from"./authorStore.17402b56.js";import{_ as d,c as u,n as c,v as _,a as t,d as m,q as g,t as b,o as h,p as f,e as P}from"./entry.448beef3.js";const v={data(){return{postContent:"",postImage:null,isPublic:!0}},methods:{onImageSelected(s){const e=s.target.files[0];if(e){const o=new FileReader;o.readAsDataURL(e),o.onload=r=>{this.postImage=r.target.result}}},async submitPost(){const s=i();try{const e={type:this.isPublic?"public":"private",title:"",source:"",origin:"",description:"",contentType:"",content:this.postContent,published:new Date().toISOString(),owner:"UserID",categories:"",count:0},o=await p.post(s.BASE_URL+"/api/posts",e);o.status===200||o.status===201?console.log("Post created successfully:",o.data):console.error("Error creating post:",o)}catch(e){console.error("Error while creating post:",e)}}}},y=s=>(f("data-v-c1b9acfd"),s=s(),P(),s),I={class:"create-post"},S={class:"post-actions"},x={class:"upload-image"},C={class:"toggle-container"},w={class:"switch"},U=y(()=>t("span",{class:"slider"},null,-1));function k(s,e,o,r,n,l){return h(),u("div",I,[c(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.postContent=a),placeholder:"What's on your mind?"},null,512),[[_,n.postContent]]),t("div",S,[t("label",x,[m(" Upload Image "),t("input",{type:"file",onChange:e[1]||(e[1]=(...a)=>l.onImageSelected&&l.onImageSelected(...a))},null,32)]),t("div",C,[t("label",w,[c(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=a=>n.isPublic=a)},null,512),[[g,n.isPublic]]),U]),t("span",null,b(n.isPublic?"Public":"Private"),1)])]),t("button",{onClick:e[3]||(e[3]=(...a)=>l.submitPost&&l.submitPost(...a))},"Post")])}const E=d(v,[["render",k],["__scopeId","data-v-c1b9acfd"]]);export{E as default};
