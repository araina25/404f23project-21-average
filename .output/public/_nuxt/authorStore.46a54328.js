import{R as o}from"./entry.5646ab74.js";import{a as e}from"./axios.47b9d439.js";const s=o({id:"author",state:()=>({authorId:"",author:null,authToken:""}),getters:{getAuthorId(){return localStorage.getItem("authorId")},getAuthToken(){return localStorage.getItem("token")}},actions:{async setAuthorId(t){this.authorId=t,localStorage.setItem("authorId",t)},async setAuthToken(t){e.defaults.headers.common.Authorization=`Bearer ${t}`,this.authToken=t,localStorage.setItem("token",t)},async fetchAuthor(){e.defaults.headers.common.Authorization=`Bearer ${localStorage.getItem("token")}`;try{const t=await e.get("http://127.0.0.1:8000/authors");console.log(t.data),this.author=t.data.results[0],this.authorId=t.data.results[0].id}catch(t){console.error(t)}}}});export{s as u};
