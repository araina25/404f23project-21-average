import{a as r}from"./axios.47b9d439.js";import{_ as p,c as d,n as c,v as u,a as s,d as _,q as m,t as g,o as h,p as b,e as P}from"./entry.5646ab74.js";const f={data(){return{postContent:"",postImage:null,isPublic:!0}},methods:{onImageSelected(t){const e=t.target.files[0];if(e){const l=new FileReader;l.readAsDataURL(e),l.onload=i=>{this.postImage=i.target.result}}},async submitPost(){try{const t={type:this.isPublic?"public":"private",title:"",source:"",origin:"",description:"",contentType:"",content:this.postContent,published:new Date().toISOString(),owner:"UserID",categories:"",count:0},e=await r.post("http://localhost:8000/api/posts",t);e.status===200||e.status===201?console.log("Post created successfully:",e.data):console.error("Error creating post:",e)}catch(t){console.error("Error while creating post:",t)}}}},v=t=>(b("data-v-ece6e3d7"),t=t(),P(),t),y={class:"create-post"},I={class:"post-actions"},x={class:"upload-image"},C={class:"toggle-container"},S={class:"switch"},w=v(()=>s("span",{class:"slider"},null,-1));function k(t,e,l,i,n,a){return h(),d("div",y,[c(s("textarea",{"onUpdate:modelValue":e[0]||(e[0]=o=>n.postContent=o),placeholder:"What's on your mind?"},null,512),[[u,n.postContent]]),s("div",I,[s("label",x,[_(" Upload Image "),s("input",{type:"file",onChange:e[1]||(e[1]=(...o)=>a.onImageSelected&&a.onImageSelected(...o))},null,32)]),s("div",C,[s("label",S,[c(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=o=>n.isPublic=o)},null,512),[[m,n.isPublic]]),w]),s("span",null,g(n.isPublic?"Public":"Private"),1)])]),s("button",{onClick:e[3]||(e[3]=(...o)=>a.submitPost&&a.submitPost(...o))},"Post")])}const V=p(f,[["render",k],["__scopeId","data-v-ece6e3d7"]]);export{V as default};
